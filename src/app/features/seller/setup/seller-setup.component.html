<app-header />

<div class="seller-setup">
  <div class="container">
    @if (isLoading()) {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Chargement...</p>
      </div>
    } @else {
      <div class="setup-card">
        <div class="setup-header">
          <div class="icon">üè™</div>
          <h1>{{ profileExists() ? 'Modifier mon profil vendeur' : 'Configurer mon espace vendeur' }}</h1>
          <p class="subtitle">
            {{ profileExists() 
              ? 'Mettez √† jour les informations de votre boutique' 
              : 'Cr√©ez votre profil vendeur pour commencer √† vendre vos produits' 
            }}
          </p>
        </div>

        <form class="setup-form" (ngSubmit)="profileExists() ? updateProfile() : createProfile()">
          <div class="form-group">
            <label for="shopName">
              Nom de la boutique <span class="required">*</span>
            </label>
            <input
              type="text"
              id="shopName"
              class="form-input"
              [(ngModel)]="setupForm.shopName"
              name="shopName"
              placeholder="Ex: Ma Super Boutique"
              required
            />
            <small class="form-help">Ce nom sera visible par vos clients</small>
          </div>

          <div class="form-group">
            <label for="description">Description de votre boutique</label>
            <textarea
              id="description"
              class="form-input"
              [(ngModel)]="setupForm.description"
              name="description"
              placeholder="D√©crivez votre boutique et vos produits..."
              rows="4"
            ></textarea>
            <small class="form-help">Optionnel : Parlez de votre expertise et de vos produits</small>
          </div>

          <div class="form-group">
            <label for="contactEmail">
              Email de contact <span class="required">*</span>
            </label>
            <input
              type="email"
              id="contactEmail"
              class="form-input"
              [(ngModel)]="setupForm.contactEmail"
              name="contactEmail"
              placeholder="contact@exemple.com"
              required
            />
            <small class="form-help">Email pour que les clients puissent vous contacter</small>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" (click)="cancel()" [disabled]="isSaving()">
              Annuler
            </button>
            <button type="submit" class="btn btn-primary" [disabled]="isSaving()">
              @if (isSaving()) {
                <div class="btn-spinner"></div>
                <span>{{ profileExists() ? 'Mise √† jour...' : 'Cr√©ation...' }}</span>
              } @else {
                <span>{{ profileExists() ? 'Mettre √† jour' : 'Cr√©er mon profil vendeur' }}</span>
              }
            </button>
          </div>
        </form>

        @if (!profileExists()) {
          <div class="info-box">
            <div class="info-icon">‚ÑπÔ∏è</div>
            <div class="info-content">
              <h3>Pourquoi cr√©er un profil vendeur ?</h3>
              <ul>
                <li>‚úÖ G√©rer vos produits et listings</li>
                <li>‚úÖ Suivre vos ventes et commandes</li>
                <li>‚úÖ √ätre visible aupr√®s des acheteurs</li>
                <li>‚úÖ Acc√©der √† des statistiques d√©taill√©es</li>
              </ul>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>

<app-footer />
