<app-header></app-header>

<main class="seller-dashboard">
  <div class="container">
    <div class="dashboard-header">
      <h1>ğŸª Tableau de Bord Vendeur</h1>
      <a routerLink="/seller/products/new" class="btn btn-primary">
        <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
          <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Ajouter un produit
      </a>
    </div>

    @if (isLoading()) {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Chargement...</p>
      </div>
    } @else {
      <!-- Statistiques -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸ“¦</div>
          <div class="stat-content">
            <h3>Produits en vente</h3>
            <p class="stat-value">{{ stats()?.totalListings || 0 }}</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-content">
            <h3>Ventes totales</h3>
            <p class="stat-value">{{ stats()?.totalSales || 0 }}</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">ğŸ“Š</div>
          <div class="stat-content">
            <h3>Chiffre d'affaires</h3>
            <p class="stat-value">{{ stats()?.totalRevenue || 0 | number: '1.2-2' }} â‚¬</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">â­</div>
          <div class="stat-content">
            <h3>Note moyenne</h3>
            <p class="stat-value">{{ stats()?.averageRating || 0 | number: '1.1-1' }} / 5</p>
          </div>
        </div>
      </div>

      <!-- Actions rapides -->
      <div class="quick-actions">
        <h2>Actions rapides</h2>
        <div class="actions-grid">
          <a routerLink="/seller/products" class="action-card">
            <div class="action-icon">ğŸ“‹</div>
            <h3>GÃ©rer mes produits</h3>
            <p>Voir, modifier ou supprimer vos produits</p>
          </a>

          <a routerLink="/seller/orders" class="action-card">
            <div class="action-icon">ğŸ“¦</div>
            <h3>Mes commandes</h3>
            <p>GÃ©rer les commandes en cours</p>
          </a>

          <a routerLink="/seller/reviews" class="action-card">
            <div class="action-icon">ğŸ’¬</div>
            <h3>Avis clients</h3>
            <p>Consulter les avis sur vos produits</p>
          </a>

          <a routerLink="/profile" class="action-card">
            <div class="action-icon">âš™ï¸</div>
            <h3>ParamÃ¨tres</h3>
            <p>Modifier les informations de votre boutique</p>
          </a>
        </div>
      </div>

      <!-- Derniers listings -->
      @if (myListings().length > 0) {
        <div class="recent-listings">
          <div class="section-header">
            <h2>Derniers produits ajoutÃ©s</h2>
            <a routerLink="/seller/products" class="view-all">Voir tout â†’</a>
          </div>

          <div class="listings-grid">
            @for (listing of myListings().slice(0, 5); track listing.id) {
              <div class="listing-card">
                @if (listing.images.length > 0) {
                  <img [src]="listing.images[0]" [alt]="listing.productTitle" class="listing-image">
                } @else {
                  <div class="listing-image-placeholder">ğŸ“¦</div>
                }
                <div class="listing-info">
                  <h3>{{ listing.productTitle }}</h3>
                  <p class="listing-brand">{{ listing.productBrand }}</p>
                  <p class="listing-price">{{ listing.price | number: '1.2-2' }} â‚¬</p>
                  <span class="listing-status" [class.active]="listing.active">
                    {{ listing.active ? 'Actif' : 'Inactif' }}
                  </span>
                </div>
              </div>
            }
          </div>
        </div>
      }
    }
  </div>
</main>

<app-footer></app-footer>
